"use strict";(self.webpackChunkangular_training_platform=self.webpackChunkangular_training_platform||[]).push([[5129],{1908:(n,s,a)=>{a.r(s),a.d(s,{default:()=>p});var t=a(6252);const e=[(0,t.uE)('<h1 id="security" tabindex="-1"><a class="header-anchor" href="#security" aria-hidden="true">#</a> Security</h1><p>The security of an Angular application is a critical aspect that needs to be considered during development. Here are some best practices to enhance the security of your Angular application:</p><h2 id="preventing-cross-site-scripting-xss" tabindex="-1"><a class="header-anchor" href="#preventing-cross-site-scripting-xss" aria-hidden="true">#</a> Preventing cross-site scripting (XSS)</h2><p>Cross-site scripting (XSS) is a security vulnerability that allows attackers to inject malicious scripts into web pages viewed by other users. To prevent XSS attacks in Angular applications, you can use the following best practices:</p><ul><li>Use Angular&#39;s built-in sanitization mechanisms to sanitize user input and prevent script injection.</li><li>Avoid using unsafe methods like innerHTML and instead use Angular&#39;s data binding syntax to render dynamic content.</li><li>Use Angular&#39;s built-in security features like Content Security Policy (CSP) to restrict the sources of scripts and other resources that can be loaded by your application.</li><li>Enable strict mode in Angular templates to prevent template expressions from executing arbitrary code.</li><li>Use Angular&#39;s HttpClient module to make HTTP requests and automatically sanitize responses to prevent XSS attacks.</li></ul><h2 id="angular-s-cross-site-scripting-security-model" tabindex="-1"><a class="header-anchor" href="#angular-s-cross-site-scripting-security-model" aria-hidden="true">#</a> Angular&#39;s cross-site scripting security model</h2><p>Angular provides a built-in security model to prevent cross-site scripting (XSS) attacks in applications. This security model includes the following features:</p><ul><li>Automatic sanitization of user input: Angular automatically sanitizes user input to prevent script injection and other security vulnerabilities.</li><li>Strict mode in templates: Angular templates run in strict mode by default, which prevents template expressions from executing arbitrary code.</li><li>Content Security Policy (CSP): Angular applications can use CSP to restrict the sources of scripts and other resources that can be loaded by the application.</li><li>Trusted Types: Angular supports Trusted Types, a new web platform feature that helps prevent DOM-based XSS attacks by enforcing strict type checking on DOM APIs.</li></ul><h2 id="sanitization-and-security-contexts" tabindex="-1"><a class="header-anchor" href="#sanitization-and-security-contexts" aria-hidden="true">#</a> Sanitization and security contexts</h2><p>Angular provides a built-in sanitization mechanism to prevent cross-site scripting (XSS) attacks in applications. Sanitization is the process of cleaning user input to remove potentially dangerous content, such as script tags and event handlers. Angular uses security contexts to determine how to sanitize user input based on its intended use.</p><p>Angular provides the following security contexts for sanitization:</p><ul><li>HTML: Sanitizes user input for use in HTML contexts, such as rendering dynamic content in templates.</li><li>Style: Sanitizes user input for use in CSS contexts, such as setting inline styles.</li><li>Script: Sanitizes user input for use in script contexts, such as event handlers and script tags.</li><li>URL: Sanitizes user input for use in URL contexts, such as setting href attributes.</li><li>Resource URL: Sanitizes user input for use in resource URL contexts, such as loading external resources.</li></ul><h2 id="sanitization-example" tabindex="-1"><a class="header-anchor" href="#sanitization-example" aria-hidden="true">#</a> Sanitization example</h2><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@angular/core&#39;</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> DomSanitizer<span class="token punctuation">,</span> SafeHtml <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@angular/platform-browser&#39;</span><span class="token punctuation">;</span>\n\n<span class="token decorator"><span class="token at operator">@</span><span class="token function">Component</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  selector<span class="token operator">:</span> <span class="token string">&#39;app-root&#39;</span><span class="token punctuation">,</span>\n  template<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;div [innerHTML]=&quot;safeHtml&quot;&gt;&lt;/div&gt;</span><span class="token template-punctuation string">`</span></span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">AppComponent</span> <span class="token punctuation">{</span>\n  safeHtml<span class="token operator">:</span> SafeHtml<span class="token punctuation">;</span>\n\n  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token keyword">private</span> sanitizer<span class="token operator">:</span> DomSanitizer<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">const</span> untrustedHtml <span class="token operator">=</span> <span class="token string">&#39;&lt;img src=x onerror=alert(1)&gt;&#39;</span><span class="token punctuation">;</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>safeHtml <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>sanitizer<span class="token punctuation">.</span><span class="token function">bypassSecurityTrustHtml</span><span class="token punctuation">(</span>untrustedHtml<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="direct-use-of-the-dom-apis-and-explicit-sanitization-calls" tabindex="-1"><a class="header-anchor" href="#direct-use-of-the-dom-apis-and-explicit-sanitization-calls" aria-hidden="true">#</a> Direct use of the DOM APIs and explicit sanitization calls</h2><p>Directly using the DOM APIs to manipulate the DOM can introduce security vulnerabilities in Angular applications. To prevent XSS attacks, avoid using unsafe methods like innerHTML and instead use Angular&#39;s built-in sanitization mechanisms to render dynamic content safely.</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Renderer2 <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@angular/core&#39;</span><span class="token punctuation">;</span>\n\n<span class="token function">constructor</span><span class="token punctuation">(</span><span class="token keyword">private</span> renderer<span class="token operator">:</span> Renderer2<span class="token punctuation">,</span> <span class="token keyword">private</span> sanitizer<span class="token operator">:</span> DomSanitizer<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>\n\n<span class="token keyword">const</span> div <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>renderer<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#39;div&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">const</span> unsafeContent <span class="token operator">=</span> <span class="token string">&#39;&lt;script&gt;alert(&quot;XSS&quot;)&lt;/script&gt;&#39;</span><span class="token punctuation">;</span>\n<span class="token keyword">const</span> sanitizedContent <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>sanitizer<span class="token punctuation">.</span><span class="token function">sanitize</span><span class="token punctuation">(</span>SecurityContext<span class="token punctuation">.</span><span class="token constant">HTML</span><span class="token punctuation">,</span> unsafeContent<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">this</span><span class="token punctuation">.</span>renderer<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span>div<span class="token punctuation">,</span> <span class="token string">&#39;innerHTML&#39;</span><span class="token punctuation">,</span> sanitizedContent<span class="token punctuation">)</span><span class="token punctuation">;</span>\ndocument<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>div<span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="trusting-safe-values" tabindex="-1"><a class="header-anchor" href="#trusting-safe-values" aria-hidden="true">#</a> Trusting safe values</h2><p>Angular provides a mechanism to trust safe values and bypass the built-in sanitization mechanisms when rendering trusted content. To trust a safe value, you can use the bypassSecurityTrustHtml, bypassSecurityTrustStyle, bypassSecurityTrustScript, bypassSecurityTrustUrl, and bypassSecurityTrustResourceUrl methods provided by the DomSanitizer service.</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">const</span> safeHtml <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>sanitizer<span class="token punctuation">.</span><span class="token function">bypassSecurityTrustHtml</span><span class="token punctuation">(</span><span class="token string">&#39;&lt;b&gt;Safe Content&lt;/b&gt;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="content-security-policy" tabindex="-1"><a class="header-anchor" href="#content-security-policy" aria-hidden="true">#</a> Content security policy</h2><p>Content Security Policy (CSP) is a security feature that helps prevent cross-site scripting (XSS) attacks by restricting the sources of scripts and other resources that can be loaded by a web application. Angular applications can use CSP to define a policy that specifies which content is allowed to be loaded by the application.</p><p>To enable CSP in an Angular application, you can add a Content-Security-Policy header to the HTTP response from the server. The CSP header should include directives that restrict the sources of scripts, styles, images, fonts, and other resources that can be loaded by the application.</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code>Content<span class="token operator">-</span>Security<span class="token operator">-</span>Policy<span class="token operator">:</span> <span class="token keyword">default</span><span class="token operator">-</span>src <span class="token string">&#39;self&#39;</span><span class="token punctuation">;</span> script<span class="token operator">-</span>src <span class="token string">&#39;self&#39;</span> https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>example<span class="token punctuation">.</span>com<span class="token punctuation">;</span> style<span class="token operator">-</span>src <span class="token string">&#39;self&#39;</span> https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>example<span class="token punctuation">.</span>com<span class="token punctuation">;</span> img<span class="token operator">-</span>src <span class="token string">&#39;self&#39;</span> https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>example<span class="token punctuation">.</span>com<span class="token punctuation">;</span> font<span class="token operator">-</span>src <span class="token string">&#39;self&#39;</span> https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>example<span class="token punctuation">.</span>com<span class="token punctuation">;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="enforcing-trusted-types" tabindex="-1"><a class="header-anchor" href="#enforcing-trusted-types" aria-hidden="true">#</a> Enforcing Trusted Types</h2><p>Trusted Types is a new web platform feature that helps prevent DOM-based cross-site scripting (XSS) attacks by enforcing strict type checking on DOM APIs. Angular applications can use Trusted Types to ensure that only trusted values are passed to DOM APIs, preventing script injection and other security vulnerabilities.</p><p>To enable Trusted Types in an Angular application, you can configure the Trusted Types policy using the TrustedTypesConfig token provided by Angular. The policy can specify which types of values are considered trusted and enforce strict type checking on DOM APIs.</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> InjectionToken <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@angular/core&#39;</span><span class="token punctuation">;</span>\n\n<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">TRUSTED_TYPES_CONFIG</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">InjectionToken</span><span class="token punctuation">(</span><span class="token string">&#39;TRUSTED_TYPES_CONFIG&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> trustedTypesConfig <span class="token operator">=</span> <span class="token punctuation">{</span>\n  <span class="token function-variable function">createPolicy</span><span class="token operator">:</span> <span class="token punctuation">(</span>name<span class="token punctuation">,</span> policy<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> policy<span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> BrowserModule <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@angular/platform-browser&#39;</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> NgModule <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@angular/core&#39;</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> AppComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./app.component&#39;</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token constant">TRUSTED_TYPES_CONFIG</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./trusted-types.config&#39;</span><span class="token punctuation">;</span>\n\n<span class="token decorator"><span class="token at operator">@</span><span class="token function">NgModule</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  declarations<span class="token operator">:</span> <span class="token punctuation">[</span>\n    AppComponent\n  <span class="token punctuation">]</span><span class="token punctuation">,</span>\n  imports<span class="token operator">:</span> <span class="token punctuation">[</span>\n    BrowserModule\n  <span class="token punctuation">]</span><span class="token punctuation">,</span>\n  providers<span class="token operator">:</span> <span class="token punctuation">[</span>\n    <span class="token punctuation">{</span> provide<span class="token operator">:</span> <span class="token constant">TRUSTED_TYPES_CONFIG</span><span class="token punctuation">,</span> useValue<span class="token operator">:</span> trustedTypesConfig <span class="token punctuation">}</span>\n  <span class="token punctuation">]</span><span class="token punctuation">,</span>\n  bootstrap<span class="token operator">:</span> <span class="token punctuation">[</span>AppComponent<span class="token punctuation">]</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">AppModule</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="use-the-aot-template-compiler" tabindex="-1"><a class="header-anchor" href="#use-the-aot-template-compiler" aria-hidden="true">#</a> Use the AOT template compiler</h2><p>The Angular Ahead-of-Time (AOT) template compiler compiles Angular templates at build time, which helps prevent cross-site scripting (XSS) attacks by statically analyzing the templates and generating optimized code. AOT compilation eliminates the need for the browser to compile templates at runtime, reducing the risk of template injection vulnerabilities.</p><p>To enable AOT compilation in an Angular application, you can use the ngc command to compile the application ahead of time. AOT compilation is recommended for production builds to improve performance, security, and compatibility with Content Security Policy (CSP) restrictions.</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>ng build <span class="token parameter variable">--aot</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="server-side-xss-protection" tabindex="-1"><a class="header-anchor" href="#server-side-xss-protection" aria-hidden="true">#</a> Server-side XSS protection</h2><p>Server-side XSS protection is a security feature that helps prevent cross-site scripting (XSS) attacks by validating and sanitizing user input on the server before rendering it in the browser. To protect against XSS attacks, you can implement server-side input validation and sanitization to ensure that user input is safe and does not contain malicious content.</p><h2 id="http-level-vulnerabilities" tabindex="-1"><a class="header-anchor" href="#http-level-vulnerabilities" aria-hidden="true">#</a> HTTP-level vulnerabilities</h2><p>Angular applications can be vulnerable to various HTTP-level attacks, such as cross-site request forgery (CSRF), cross-site scripting (XSS), and cross-site script inclusion (XSSI). To protect against these vulnerabilities, you can use Angular&#39;s built-in security features, such as HttpClient XSRF/CSRF protection, custom cookie/header names, and disabling XSRF protection.</p><h2 id="cross-site-request-forgery" tabindex="-1"><a class="header-anchor" href="#cross-site-request-forgery" aria-hidden="true">#</a> Cross-site request forgery</h2><p>Cross-site request forgery (CSRF) is a security vulnerability that allows attackers to execute unauthorized actions on behalf of authenticated users. To prevent CSRF attacks in Angular applications, you can use Angular&#39;s built-in XSRF/CSRF protection mechanism to add a token to HTTP requests and validate it on the server.</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> HttpClientModule <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@angular/common/http&#39;</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> HttpClientXsrfModule <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@angular/common/http&#39;</span><span class="token punctuation">;</span>\n\n<span class="token decorator"><span class="token at operator">@</span><span class="token function">NgModule</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  imports<span class="token operator">:</span> <span class="token punctuation">[</span>\n    HttpClientModule<span class="token punctuation">,</span>\n    HttpClientXsrfModule<span class="token punctuation">.</span><span class="token function">withOptions</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n      cookieName<span class="token operator">:</span> <span class="token string">&#39;XSRF-TOKEN&#39;</span><span class="token punctuation">,</span>\n      headerName<span class="token operator">:</span> <span class="token string">&#39;X-XSRF-TOKEN&#39;</span>\n    <span class="token punctuation">}</span><span class="token punctuation">)</span>\n  <span class="token punctuation">]</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n\n<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">AppModule</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="httpclient-xsrf-csrf-security" tabindex="-1"><a class="header-anchor" href="#httpclient-xsrf-csrf-security" aria-hidden="true">#</a> HttpClient XSRF/CSRF security</h2><p>Angular&#39;s HttpClient module provides built-in support for cross-site request forgery (CSRF) protection using the XSRF/CSRF token mechanism. The HttpClientXsrfModule.withOptions method allows you to configure custom cookie and header names for the XSRF/CSRF token.</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> HttpClientModule <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@angular/common/http&#39;</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> HttpClientXsrfModule <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@angular/common/http&#39;</span><span class="token punctuation">;</span>\n\n<span class="token decorator"><span class="token at operator">@</span><span class="token function">NgModule</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  imports<span class="token operator">:</span> <span class="token punctuation">[</span>\n    HttpClientModule<span class="token punctuation">,</span>\n    HttpClientXsrfModule<span class="token punctuation">.</span><span class="token function">withOptions</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n      cookieName<span class="token operator">:</span> <span class="token string">&#39;XSRF-TOKEN&#39;</span><span class="token punctuation">,</span>\n      headerName<span class="token operator">:</span> <span class="token string">&#39;X-XSRF-TOKEN&#39;</span>\n    <span class="token punctuation">}</span><span class="token punctuation">)</span>\n  <span class="token punctuation">]</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n\n<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">AppModule</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="configure-custom-cookie-header-names" tabindex="-1"><a class="header-anchor" href="#configure-custom-cookie-header-names" aria-hidden="true">#</a> Configure custom cookie/header names</h2><p>Angular&#39;s HttpClient module allows you to configure custom cookie and header names for the XSRF/CSRF token using the HttpClientXsrfModule.withOptions method. By specifying custom names for the XSRF/CSRF token, you can enhance the security of your application and prevent CSRF attacks.</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> HttpClientModule <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@angular/common/http&#39;</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> HttpClientXsrfModule <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@angular/common/http&#39;</span><span class="token punctuation">;</span>\n\n<span class="token decorator"><span class="token at operator">@</span><span class="token function">NgModule</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  imports<span class="token operator">:</span> <span class="token punctuation">[</span>\n    HttpClientModule<span class="token punctuation">,</span>\n    HttpClientXsrfModule<span class="token punctuation">.</span><span class="token function">withOptions</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n      cookieName<span class="token operator">:</span> <span class="token string">&#39;XSRF-TOKEN&#39;</span><span class="token punctuation">,</span>\n      headerName<span class="token operator">:</span> <span class="token string">&#39;X-XSRF-TOKEN&#39;</span>\n    <span class="token punctuation">}</span><span class="token punctuation">)</span>\n  <span class="token punctuation">]</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n\n<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">AppModule</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="disabling-xsrf-protection" tabindex="-1"><a class="header-anchor" href="#disabling-xsrf-protection" aria-hidden="true">#</a> Disabling XSRF protection</h2><p>Angular&#39;s HttpClient module provides built-in support for cross-site request forgery (CSRF) protection using the XSRF/CSRF token mechanism. If you want to disable XSRF protection for specific requests, you can use the { withCredentials: true } option in the HttpClient request.</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> HttpClient <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@angular/common/http&#39;</span><span class="token punctuation">;</span>\n\n<span class="token function">constructor</span><span class="token punctuation">(</span><span class="token keyword">private</span> http<span class="token operator">:</span> HttpClient<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>\n\n<span class="token keyword">this</span><span class="token punctuation">.</span>http<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/api/data&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> withCredentials<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="cross-site-script-inclusion-xssi" tabindex="-1"><a class="header-anchor" href="#cross-site-script-inclusion-xssi" aria-hidden="true">#</a> Cross-site script inclusion (XSSI)</h2><p>Cross-site script inclusion (XSSI) is a security vulnerability that allows attackers to include external scripts in an application and execute malicious code. To prevent XSSI attacks in Angular applications, you can use Angular&#39;s built-in security features, such as HttpClient XSSI protection, to validate and sanitize external script responses.</p><h2 id="auditing-angular-applications" tabindex="-1"><a class="header-anchor" href="#auditing-angular-applications" aria-hidden="true">#</a> Auditing Angular applications</h2><p>Auditing Angular applications is an essential step to identify and fix security vulnerabilities in the codebase. You can use various tools and techniques to audit Angular applications, such as security scanners, code reviews, penetration testing, and security best practices.</p>',53)],i={},p=(0,a(3744).Z)(i,[["render",function(n,s){return(0,t.wg)(),(0,t.iD)("div",null,e)}]])},4422:(n,s,a)=>{a.r(s),a.d(s,{data:()=>t});const t=JSON.parse('{"key":"v-4f9e73d4","path":"/security/","title":"Security","lang":"en-US","frontmatter":{},"headers":[{"level":2,"title":"Preventing cross-site scripting (XSS)","slug":"preventing-cross-site-scripting-xss","link":"#preventing-cross-site-scripting-xss","children":[]},{"level":2,"title":"Angular\'s cross-site scripting security model","slug":"angular-s-cross-site-scripting-security-model","link":"#angular-s-cross-site-scripting-security-model","children":[]},{"level":2,"title":"Sanitization and security contexts","slug":"sanitization-and-security-contexts","link":"#sanitization-and-security-contexts","children":[]},{"level":2,"title":"Sanitization example","slug":"sanitization-example","link":"#sanitization-example","children":[]},{"level":2,"title":"Direct use of the DOM APIs and explicit sanitization calls","slug":"direct-use-of-the-dom-apis-and-explicit-sanitization-calls","link":"#direct-use-of-the-dom-apis-and-explicit-sanitization-calls","children":[]},{"level":2,"title":"Trusting safe values","slug":"trusting-safe-values","link":"#trusting-safe-values","children":[]},{"level":2,"title":"Content security policy","slug":"content-security-policy","link":"#content-security-policy","children":[]},{"level":2,"title":"Enforcing Trusted Types","slug":"enforcing-trusted-types","link":"#enforcing-trusted-types","children":[]},{"level":2,"title":"Use the AOT template compiler","slug":"use-the-aot-template-compiler","link":"#use-the-aot-template-compiler","children":[]},{"level":2,"title":"Server-side XSS protection","slug":"server-side-xss-protection","link":"#server-side-xss-protection","children":[]},{"level":2,"title":"HTTP-level vulnerabilities","slug":"http-level-vulnerabilities","link":"#http-level-vulnerabilities","children":[]},{"level":2,"title":"Cross-site request forgery","slug":"cross-site-request-forgery","link":"#cross-site-request-forgery","children":[]},{"level":2,"title":"HttpClient XSRF/CSRF security","slug":"httpclient-xsrf-csrf-security","link":"#httpclient-xsrf-csrf-security","children":[]},{"level":2,"title":"Configure custom cookie/header names","slug":"configure-custom-cookie-header-names","link":"#configure-custom-cookie-header-names","children":[]},{"level":2,"title":"Disabling XSRF protection","slug":"disabling-xsrf-protection","link":"#disabling-xsrf-protection","children":[]},{"level":2,"title":"Cross-site script inclusion (XSSI)","slug":"cross-site-script-inclusion-xssi","link":"#cross-site-script-inclusion-xssi","children":[]},{"level":2,"title":"Auditing Angular applications","slug":"auditing-angular-applications","link":"#auditing-angular-applications","children":[]}],"git":{},"filePathRelative":"security/README.md"}')}}]);